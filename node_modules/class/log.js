class Log {
    static async read(ip, type) {
        const db = await require("class/database.js");
        const count = await db.collection("log").count({ ip: ip, type: type, hits: 5 });

        return count === 0;
    }

    static async write(ip, type) {
        const db = await require("class/database.js");
        db.collection("log").updateOne({ ip: ip, type: type }, { $inc: { hits: 1 }, $setOnInsert: { date: new Date() } }, { upsert: true });
    }
}

module.exports = Log;